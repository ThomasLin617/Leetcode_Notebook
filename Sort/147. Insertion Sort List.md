# 147. Insertion Sort List
## code
```py
# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
class Solution:
    def insertionSortList(self, head: Optional[ListNode]) -> Optional[ListNode]:
        dummy = ListNode(0)
        dummy.next = head
        last_sorted = head
        current = head.next

        while current:
            if current.val >= last_sorted.val:
                last_sorted = current
                
            else:
                prev = dummy
                while prev.next and prev.next.val < current.val:
                    prev = prev.next
                last_sorted.next = current.next
                current.next = prev.next
                prev.next = current
            current = last_sorted.next

        return dummy.next
```
## idea
潤稿後：

---


The goal of this problem is to implement insertion sort using a linked list. The principle is straightforward: whenever the order is incorrect, start scanning from the head until finding the first suitable position, then insert the node there. Through this problem, I mainly learned techniques for manipulating linked lists, including disconnecting the last element and inserting it into the middle of the list. With more practice, these operations will become second nature.

### Complexity
**Time Complexity**: In the worst case, each insertion requires scanning from the head to the current node, resulting in a time complexity of $O(n^2)$.  
**Space Complexity**: Only constant extra space is used, so the space complexity is $O(1)$.

## percentage
![](/assetPic/isl.png)